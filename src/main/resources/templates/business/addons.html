<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="partials/fragments.html :: head(title = 'Addon Store')">
</head>
<body>
<th:block th:include="partials/fragments.html :: nav">
</th:block>

<h1>Welcome to the Store!</h1>


<table>
    <thead>
    <tr>
        <th>
            <h4>INGREDIENT NAME</h4>
        </th>
        <th>
            <h4>POPULARITY BONUS</h4>
        </th>
        <th>
            <h4>PRICE PER ADDON</h4>
        </th>
    </tr>
    </thead>
    <tbody>
    <th:block th:each="addon : ${addons}">
        <form th:action="@{/business/addon}" th:method="POST">
            <tr>
                <th:block th:if="${businessAddons.contains(addon)}">
                    <td><h4 th:text="${addon.name}"></h4></td>
                    <td><h4 th:text="${addon.popularityBonus}"></h4></td>
                    <td><h4 th:text="${addon.price}"></h4></td>
                    <td>Already Purchased </td>
                </th:block>
                <th:block th:if="${!businessAddons.contains(addon)}">
                    <td><h4 th:text="${addon.name}"></h4></td>
                    <td><h4 th:text="${addon.popularityBonus}"></h4></td>
                    <td><h4 th:text="${addon.price}"></h4></td>
                    <input type="text" th:name="id" th:value="${addon.getId()}" hidden>
                    <td>
                        <button type="submit" class="purchase-btn">Purchase</button>
                    </td>
                </th:block>
            </tr>
        </form>
    </th:block>
    </tbody>
</table>

<a href="/business">EXIT STORE</a>

<footer th:replace="partials/fragments.html :: footer">
</footer>
<th:block th:include="partials/fragments.html :: scripts">
</th:block>
<!--<script type="text/javascript" th:src="@{/js/addons.js}"></script>-->
</body>
</html>